# Домашнее задание 1. Другая монополия.

## Выполнил: Назмутдинов Роман Ренатович БПИ-194

## Полученная оценка: 10/10

---

## **Условие** ([более подробное условие в pdf](https://github.com/Mudrets/Java_HW_HSE/blob/master/HW1/Homework1.pdf))

### **Игра**

Игра представляет собой консольное приложение (Java-приложение, запускаемое из командной строки) и использует консольный ввод-вывод для взаимодействия с пользователем в режиме диалога

Игровая доска (игровое поле) представляет собой прямоугольник, составленный из клеток, при этом последняя клетка примыкает к первой. При реализации допускаются различные способы изображения игрового поля с использованием скромных графических средств консольного ввода. В простейшем варианте вместо изображения клетки может быть выведено лишь ее символьное обозначение.

![image](https://user-images.githubusercontent.com/53127411/149642850-e1967343-2c78-49fb-8167-3ecf43dcd6e7.png)

Количество клеток по ширине (width) и по высоте (height) задается аргументами командной строки при запуске приложения.

Игроки делают свои ходы по очереди; при этом они перемещаются по игровому полю по часовой стрелке, тратя и получая деньги. Очередность ходов определяется случайно в начале игры и далее не изменяется. Игра завершается, когда остаётся только один игрок, который не обанкротился. Он и объявляется победителем.

В данном задании игра рассчитана на двух игроков, одним из которых является бот. В задании требуется реализовать бота, который будет ходить аналогично игроку, но не будет пользоваться услугами офисов банка. При этом решения о покупке или улучшении магазина принимаются ботом случайно. Особые примечания, касающиеся поведения бота, даны по тексту ниже.

### **Генерация поля и обозначения его клеток**

Поле генерируется случайным образом, со следующими условиями:

1. На четырех углах карты находятся нейтральные клетки (EmptyCell). Нейтральные клетки обозначаются символом ‘E’;
2. В игре участвует один банк (Bank) с многими офисами. Клетки офисов банка присутствуют на каждой линии в единственном экземпляре;
Офисы банка обозначаются символом ‘$’;
3. На каждой линии есть до 2 такси (Taxi).Такси обозначаются символом ‘T’;
4. На каждой линии есть до 2 штрафных клеток (PenaltyCell);
Штрафные клетки обозначаются символом ‘%’;
5. Все остальные клетки - магазины (Shop). Магазины обозначаются в зависимости от того, когда и для кого выполняется отображение игрового поля:
    - магазин, не имеющий владельца, отображается символом ‘S’;
    - магазин, принадлежащий игроку, для которого выполняется отображение игрового поля отображается для него символом ‘M’ (т.е. как My Shop);
    - магазин, принадлежащий сопернику, отображается символом ‘O’ (т.е. как Opponent Shop).

### **Виды клеток**
При попадании игрока на любую клетку в консоль должны выводиться сообщения, содержащие информацию о происходящем в игре (например, может быть выведен тип клетки, изменения в капитале). Важно, чтобы сообщение было понятно игроку и давало четкую информацию о любых изменениях. 
Подробности – см. далее.
        	
- Магазин (Shop)  
    - Если у магазина нет владельца, игроку предоставляется возможность    купить этот магазин по стоимости N и стать его владельцем, либо отказаться, т.е. пройти мимо (соответствующий диалог описан в пункте 4: Ход игрока).
    - Если этот магазин – собственность попавшего на него игрока, то владелец может улучшить свой магазин или отказаться, т.е. пройти мимо (см. пункт  4: Ход игрока). За один ход улучшить магазин можно только один раз, но при этом за всю игру улучшать его можно неограниченное количество раз.
    - За один ход можно ИЛИ купить магазин, ИЛИ улучшить его, уже являясь его владельцем, ИЛИ ничего не делать.
    - Если игрок попадает на клетку магазина, принадлежащую другому игроку, игрок обязан выплатить владельцу магазина компенсацию в размере K. Если игрок не располагает нужной суммой, игра заканчивается его поражением.
    - Улучшение магазина - это разовое изменение стоимости магазина и размера компенсации за его посещение по указанным ниже правилам.
    - Каждое улучшение магазина влияет на него следующим образом:
        - Стоимость магазина повышается на improvementCoeff \* N (т.е., новая стоимость магазина равна N + improvementCoeff \* N);
        - Размер компенсации увеличивается на compensationCoeff \* K (т.е., новая компенсация для этого магазина становится равной K + compensationCoeff \* K);
        - Коэффициенты compensationCoeff и improvementCoeff должны генерироваться для каждого магазина отдельно до начала игры; в течение игры эти коэффициенты не изменяются. Каждый раз коэффициенты применяются к текущим значениям N и К (то есть N =  N + improvementCoeff \* N; K = K + compensationCoeff \* K).
        Здесь K - текущий размер компенсации, N – цена магазина; compensationCoeff – коэффициент увеличения компенсации, improvementCoeff – коэффициент увеличения стоимости улучшения магазина.
- Банк (Bank)
  - Если попавший на ячейку офиса банка игрок является должником банка, с его счета списывается требуемая сумма. Если игрок не располагает нужной суммой, игра заканчивается его поражением.
  - Если попавший на ячейку офиса банка игрок не является должником банка, он может получить от банка сумму, но не больше, чем creditCoeff*(сумма, которую игрок потратил на покупку и улучшение всех своих магазинов). При этом он становится должником банка на сумму, которая в debtCoeff  раз больше, чем полученная от банка сумма (соответствующий диалог описан в разделе 4: Ход игрока). Значение debtCoeff генерируется единожды за партию по правилу 1.0 < debtCoeff <= 3.0. Значения creditCoeff и  debtCoeff обязательно выводятся в консоль для сведения игрока в начале партии.
- Штрафная клетка (PenaltyCell)
  - С игрока взимается плата в размере penaltyCoeff * (количество денег игрока). Значение penaltyCoeff генерируется единожды за партию. Обязательно выводится в консоль для сведения игрока в начале партии.
- Такси (Taxi)
  - Игрок перемещается на taxiDistance клеток вперёд. Значение taxiDistance генерируется для каждого попадания на соответствующую клетку. Игроку выводится сообщение в консоль: «You are shifted forward by \<taxiDistance> cells »
- Нейтральная клетка (EmptyCell)
  - В консоль выводится сообщение: «Just relax there».

### **Ход игрока**

Игра начинается с того, что:

- Генерируется  и выводится игровое поле
- Выводятся значение коэффициентов
- Определяется очередность ходов игроков с помощью генератора случайных чисел (в дальнейшем игроки ходят по очереди).
- Происходит ход первого игрока.
При ходе игрока:
- Генерируются два числа от 1 до 6, и игрок перемещается вперед на сумму сгенерированных чисел.
- В зависимости от типа клетки, на которую попал игрок, в консоль выводится информация о доступных на текущей клетке действиях и предоставляются соответствующие возможности диалогового взаимодействия. 
Примеры:
- «You are in the bank office. Would you like to get a credit? Input how many you want to get or ’No’» 
- «You are in \<shop cell \<X>\<Y>>. This shop has no owner. Would you like to buy  it for \<price>$? Input ‘Yes’ if you agree or ‘No’ otherwise».
- «You are in your shop \<X>\<Y>. Would you like to upgrade it for \<price>$? Input ‘Yes’ if you agree or ‘No’ otherwise».
Если пользователь вводит недопустимое число или набор слов, он должен быть уведомлен соответственно, и процедура ввода должна быть повторена.
После каждого действия игрока, в консоль должна выводиться соответствующая информация.

Если пользователь вводит недопустимое число или набор слов, он должен быть уведомлен соответственно, и процедура ввода должна быть повторена.
После каждого действия игрока, в консоль должна выводиться соответствующая информация.

### **Завершение хода**

После окончания хода в консоль выводится игровое поле (см. рис.1 выше). Обозначения для объектов указаны ранее в разделе “Генерация поля и обозначение клеток”.
Ниже выводятся положения игроков и информация о текущем местоположении игрока, балансе и долге игрока (в формате «You are in the cell (\<X>, \<Y>). <Значения, которые изменились в течение завершившегося хода>». Например, “You balance: \<balance>$.” и другие. Все такие значения выводятся отдельными строками).

### **Как играет бот**

Бот ходит как игрок.
Бот может покупать и улучшать магазины, решение о покупке или улучшении магазина принимается случайно. Бот может пользоваться такси.
Бот НЕ может пользоваться услугами банка (ни в одном из его офисов).

### **Входные данные**

Входные данные задаются аргументами командной строки:

- ширина поля width; 6 <= width <= 30;
- высота поля height; 6 <= height <= 30;
- стартовый капитал игрока money; 500 <= money <= 15000.

Порядок аргументов командной строки при запуске программы следующий: \<height> \<width> \<money>.