# Домашнее задание 5 и 6. Телефонная книга

## Выполнил: Назмутдинов Роман Ренатович БПИ-194

## Полученная оценка: 10/10 и 9/10

## Условие ДЗ5 ([условие в формате pdf](https://github.com/Mudrets/Java_HW_HSE/blob/master/HW5/Homework5.pdf))

### **Телефонная книга**

Маленькой, но гордой компании поручили создать desktop-приложение телефонной книги.

Консольный интерфейс уже не подойдёт, так как Марья Васильевна из бухгалтерии и Игорь
Петрович из отдела кадров ненавидят консоль(в том числе XBox и даже PlayStation).

Вам не повезло и вы работаете как раз в отделе, который ответственен за разработку.

### **Задание**

Необходимо разработать телефонную книгу-справочник и интерфейс взаимодействия с
ней.

### **Модель**

Основной сущностью приложения является Контакт, который содержит поля: **Фамилия**, **Имя**, **Отчество**, **Мобильный** и **Домашний Телефон**, **Адрес**, **День Рождения**, **Заметки**, но ими не ограничена и по желанию вы можете добавить что-то еще.

> Контактов, у которых не указана **Фамилия**, **Имя** и хотя бы один из телефонов быть не должно.

### **Интерфейс справочника**

Дизайнер уволился, но, пока ждал трудовую книжку, набросал на салфетке эскиз
приложения.

Вам удалось отыскать эту скомканную салфетку, развернув которую вы увидели:

![image](https://user-images.githubusercontent.com/53127411/149645017-31005c62-156b-45d3-aa5a-6f0a041528b4.png)

Связавшись с дизайнером, вы выяснили некоторые детали, однако после этого он заблокировал вас во всех социальных сетях, попросив перестать преследовать его.

### **Основное окно**

Основное окно приложения содержит меню, отображение контактов и панель
взаимодействия с ними.

Отображение контактов предлагается сделать в виде таблицы.

Поиск контактов осуществляется через **Строку Поиска** в нижней части приложения. После нажатия \<**ENTER**> или кнопки **Поиск** должна быть осуществлена фильтрация контактов на совпадение по введенной строке. Контакты, не удовлетворяющие введенному значению для поиска, отображаться не должны.

Поиск должен вестись как по фамилии, так и по имени или отчеству.

Необходимо иметь возможность не только добавить новый контакт, но и удалить выбранный, а также отредактировать его.

### **Редактирование контакта**

Окно редактирования контакта открывается после того, как при выделенном контактенажимается кнопка **Редактировать**.

Редактирование предлагается сделать в виде перечисления полей с возможностью внести изменения.

![image](https://user-images.githubusercontent.com/53127411/149645113-37cc1dfe-e46e-48b4-89cf-7963f48e5345.png)

> Окно редактирования должно быть модальным.

Изменения должны отображаться в основном окне только после завершения
редактирования и сохранения изменений.

> Если вы в окне **Редактирование** изменили данные, но не нажали кнопку **Сохранить**, изменения контакта быть не должно.

Редактирование и указание **Даты рождения** должно быть с помощью JavaFX DatePicker, либо подобной реализации в **Swing**, например, JDatePicker.

Поля, в которые ввели некорректные данные, должны быть выделены предупреждающей красной рамкой.

> За отображение подсказок причины непрохождения данных валидации будут начислены дополнительные баллы. Например, при попытке пользователя сохранить Контакт, у которого отсутствует Фамилия, вывести подсказку, о том, что это поле является обязательным для заполнения.

При наличии некорректных данных в окне **Редактирование контакта** пользователь должен или отменить(сбросить) все изменения **Контакта** нажатием кнопки **Отмена**, или исправить данные. Пока данные не исправлены сохранение **Контакта** с невалидными данными запрещается.

### **Меню**

Обязательными элементами меню являются: **Файл**, **Настройки** и **Справка**.

**Файл**

По нажатию на Файл, открывается список пунктов меню:

- Добавить новый контакт

При нажатии происходит либо открытие окна добавления нового Контакта(его дизайн остаётся на ваше усмотрение, но если у вас нет идей, то сделайте его похожим на окно Редактирования Контакта, либо добавляется строка в таблицу, где и происходит заполнение данными.

- Редактирование

При нажатии происходит открытие окна Редактирования Контакта для выделенного в таблице контакта, если ни один из контактов не выделен, то пункт меню должен быть не активен.

- Удалить контакт

При нажатии происходит удаление контакта из телефонной книги.

- Выход

При нажатии выполняется выход из приложения.

**Настройки**

По нажатию на Настройки, открывается список пунктов меню:

- Импортировать
- Экспортировать

> Окна импорта и экспорта должны быть модальными.

Проходя мимо и сжалившись над вами, ваш начальник предложил сделать эти окна максимально простыми, например:

![image](https://user-images.githubusercontent.com/53127411/149645226-e0213213-0a66-429b-8d59-c6196b64af76.png)

Где вы указываете путь до файла для импорта контактов, или путь для экспорта контактов.

> Формат хранения данных остается на ваше усмотрение.

Файл выбирается с помощью диалогового окна, воспользоваться можно Swing FileChooser, либо JavaFx FileChooser, либо самописным, с подобным функционалом.

При повторном импорте одного и того же файла не должно быть дублирования контактов, текущие(добавленные до импорта) контакты не должны перезатираться, при возникновении конфликтов(когда импортируется уже существующий и измененный контакт) должно показываться предупреждение. Уникальным идентификатором **Контакта** является комбинация полей **Имя**, **Фамилия** и **Отчество**.

> Либо окно, позволяющее решить конфликт и за это будут начислены дополнительные баллы.

**Справка**

По нажатию на Справка, открывается окно, отображающее данные о том, кто разработал
данный шедевр: номер группы, ваша фамилия, имя и послание потомкам, кто будет
вынужден пользоваться этим приложением.

### **Требования**

- Необходимо и обязательно чтобы данные телефонной книги не терялись при закрытии приложения. Это значит, что закрытие приложения не должно терять уже введенные и сохраненные данные.
- UI должен отвечать всем требованиям, описанным выше.
- UI не должен 'расползаться', при расширении/уменьшении окна.
- Проект должен включать в себя тесты, покрывающие весь слой логики поиска/сохранения контактов.
- Не смешивать UI-слой и логику поиска/сохранения контактов.
- Проект должен отвечать java code style guide.
- Валидация добавления данных. Ни при каких условиях не должно быть возможности сохранить контакт с некорректно введёнными данными.
- Постараться свести количество I/O операций к минимуму (не обращаться к файлу на диске по каждому чиху).

---

## Условие ДЗ6 ([условие в формате pdf](https://github.com/Mudrets/Java_HW_HSE/blob/master/HW5/Homework6.pdf))

### **Описание**

Разработанное приложение телефонной книги оказалось полезным: его оценили как Марья Васильевна, так и Игорь Петрович.

Однако один из старших разработчиков предложил усовершенствовать приложение и хранить список контактов не в файле, а в **базе данных**.

### **Задание**

Необходимо изменить приложение телефонной книги так, чтобы **список контактов** хранился не в **файле**, а в **базе данных** — *Apache Derby*. Для взаимодействия с ней необходимо использовать **JDBC**.

Пользовательский интерфейс может быть:

**Графическим**

В этом случае можно оставить его таким, каким он был в решении задания 5

**Консольным**

Им можно воспользоваться, если задание 5 не было выполнено или просто при наличии
желания. Требования к нему описаны в разделе "Требования к консольному
интерфейсу".

### Сущность "Контакт"

Основной сущностью по-прежнему остаётся "контакт", при этом у него добавляется новое
поле - Id, всё остальное остаётся тем же самым:

*Таблица 1. Поля сущности контакт*
| Поле | Обязательность | Описание |
|------|------|------|
| id | Да | Уникальный идентификатор, генерируемый автоматически. (см. [Defining an identity column](https://db.apache.org/derby/docs/10.15/devguide/cdevtricks21248.html)) |
| Фамилия | Да | - |
| Имя | Да | - |
| Отчество | Нет | - |
| Мобильный телефон | Да, если не указан **домашний телефон** | - |
| Домашний телефон | Да, если не указан **мобильный телефон** | - |
| Адрес | Нет | - |
| День рождения | Нет | - |
| Заметки | Нет | Заметки или комментарии о контакте |

### **Требования**

- База данных — Apache Derby в режиме встраивания. См. Embedded Derby.
- В базе данных ни при каких условиях не должны оказаться контакты, чьи данные введены некорректно.
- Утечки ресурсов недопустимы.